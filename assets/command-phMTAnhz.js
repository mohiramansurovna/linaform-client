import{r as l,v as N,i as R,$ as Ie,a5 as Se,a6 as Ce,a0 as Re,s as P,j as $,d as V}from"./index-BcR0Qb-V.js";import{S as Ae}from"./search-B81CmA2F.js";var me=1,Me=.9,$e=.8,je=.17,ee=.1,te=.999,De=.9999,Fe=.99,Ke=/[\\\/_+.#"@\[\(\{&]/,Ne=/[\\\/_+.#"@\[\(\{&]/g,Le=/[\s-]/,ge=/[\s-]/g;function ne(e,n,r,f,u,c,d){if(c===n.length)return u===e.length?me:Fe;var m=`${u},${c}`;if(d[m]!==void 0)return d[m];for(var b=f.charAt(c),o=r.indexOf(b,u),p=0,g,I,y,S;o>=0;)g=ne(e,n,r,f,o+1,c+1,d),g>p&&(o===u?g*=me:Ke.test(e.charAt(o-1))?(g*=$e,y=e.slice(u,o-1).match(Ne),y&&u>0&&(g*=Math.pow(te,y.length))):Le.test(e.charAt(o-1))?(g*=Me,S=e.slice(u,o-1).match(ge),S&&u>0&&(g*=Math.pow(te,S.length))):(g*=je,u>0&&(g*=Math.pow(te,o-u))),e.charAt(o)!==n.charAt(c)&&(g*=De)),(g<ee&&r.charAt(o-1)===f.charAt(c+1)||f.charAt(c+1)===f.charAt(c)&&r.charAt(o-1)!==f.charAt(c))&&(I=ne(e,n,r,f,o+1,c+2,d),I*ee>g&&(g=I*ee)),g>p&&(p=g),o=r.indexOf(b,o+1);return d[m]=p,p}function ve(e){return e.toLowerCase().replace(ge," ")}function qe(e,n,r){return e=r&&r.length>0?`${e+" "+r.join(" ")}`:e,ne(e,n,ve(e),ve(n),0,0,{})}var q='[cmdk-group=""]',re='[cmdk-group-items=""]',Pe='[cmdk-group-heading=""]',he='[cmdk-item=""]',pe=`${he}:not([aria-disabled="true"])`,le="cmdk-item-select",F="data-value",Ve=(e,n,r)=>qe(e,n,r),be=l.createContext(void 0),z=()=>l.useContext(be),xe=l.createContext(void 0),ae=()=>l.useContext(xe),we=l.createContext(void 0),ye=l.forwardRef((e,n)=>{let r=K(()=>{var t,i;return{search:"",value:(i=(t=e.value)!=null?t:e.defaultValue)!=null?i:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),f=K(()=>new Set),u=K(()=>new Map),c=K(()=>new Map),d=K(()=>new Set),m=ke(e),{label:b,children:o,value:p,onValueChange:g,filter:I,shouldFilter:y,loop:S,disablePointerSelection:H=!1,vimBindings:A=!0,...B}=e,T=N(),ue=N(),W=N(),M=l.useRef(null),x=Xe();j(()=>{if(p!==void 0){let t=p.trim();r.current.value=t,k.emit()}},[p]),j(()=>{x(6,ie)},[]);let k=l.useMemo(()=>({subscribe:t=>(d.current.add(t),()=>d.current.delete(t)),snapshot:()=>r.current,setState:(t,i,s)=>{var a,v,h,E;if(!Object.is(r.current[t],i)){if(r.current[t]=i,t==="search")Y(),J(),x(1,X);else if(t==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let w=document.getElementById(W);w?w.focus():(a=document.getElementById(T))==null||a.focus()}if(x(7,()=>{var w;r.current.selectedItemId=(w=D())==null?void 0:w.id,k.emit()}),s||x(5,ie),((v=m.current)==null?void 0:v.value)!==void 0){let w=i??"";(E=(h=m.current).onValueChange)==null||E.call(h,w);return}}k.emit()}},emit:()=>{d.current.forEach(t=>t())}}),[]),_=l.useMemo(()=>({value:(t,i,s)=>{var a;i!==((a=c.current.get(t))==null?void 0:a.value)&&(c.current.set(t,{value:i,keywords:s}),r.current.filtered.items.set(t,oe(i,s)),x(2,()=>{J(),k.emit()}))},item:(t,i)=>(f.current.add(t),i&&(u.current.has(i)?u.current.get(i).add(t):u.current.set(i,new Set([t]))),x(3,()=>{Y(),J(),r.current.value||X(),k.emit()}),()=>{c.current.delete(t),f.current.delete(t),r.current.filtered.items.delete(t);let s=D();x(4,()=>{Y(),s?.getAttribute("id")===t&&X(),k.emit()})}),group:t=>(u.current.has(t)||u.current.set(t,new Set),()=>{c.current.delete(t),u.current.delete(t)}),filter:()=>m.current.shouldFilter,label:b||e["aria-label"],getDisablePointerSelection:()=>m.current.disablePointerSelection,listId:T,inputId:W,labelId:ue,listInnerRef:M}),[]);function oe(t,i){var s,a;let v=(a=(s=m.current)==null?void 0:s.filter)!=null?a:Ve;return t?v(t,r.current.search,i):0}function J(){if(!r.current.search||m.current.shouldFilter===!1)return;let t=r.current.filtered.items,i=[];r.current.filtered.groups.forEach(a=>{let v=u.current.get(a),h=0;v.forEach(E=>{let w=t.get(E);h=Math.max(w,h)}),i.push([a,h])});let s=M.current;L().sort((a,v)=>{var h,E;let w=a.getAttribute("id"),G=v.getAttribute("id");return((h=t.get(G))!=null?h:0)-((E=t.get(w))!=null?E:0)}).forEach(a=>{let v=a.closest(re);v?v.appendChild(a.parentElement===v?a:a.closest(`${re} > *`)):s.appendChild(a.parentElement===s?a:a.closest(`${re} > *`))}),i.sort((a,v)=>v[1]-a[1]).forEach(a=>{var v;let h=(v=M.current)==null?void 0:v.querySelector(`${q}[${F}="${encodeURIComponent(a[0])}"]`);h?.parentElement.appendChild(h)})}function X(){let t=L().find(s=>s.getAttribute("aria-disabled")!=="true"),i=t?.getAttribute(F);k.setState("value",i||void 0)}function Y(){var t,i,s,a;if(!r.current.search||m.current.shouldFilter===!1){r.current.filtered.count=f.current.size;return}r.current.filtered.groups=new Set;let v=0;for(let h of f.current){let E=(i=(t=c.current.get(h))==null?void 0:t.value)!=null?i:"",w=(a=(s=c.current.get(h))==null?void 0:s.keywords)!=null?a:[],G=oe(E,w);r.current.filtered.items.set(h,G),G>0&&v++}for(let[h,E]of u.current)for(let w of E)if(r.current.filtered.items.get(w)>0){r.current.filtered.groups.add(h);break}r.current.filtered.count=v}function ie(){var t,i,s;let a=D();a&&(((t=a.parentElement)==null?void 0:t.firstChild)===a&&((s=(i=a.closest(q))==null?void 0:i.querySelector(Pe))==null||s.scrollIntoView({block:"nearest"})),a.scrollIntoView({block:"nearest"}))}function D(){var t;return(t=M.current)==null?void 0:t.querySelector(`${he}[aria-selected="true"]`)}function L(){var t;return Array.from(((t=M.current)==null?void 0:t.querySelectorAll(pe))||[])}function Q(t){let i=L()[t];i&&k.setState("value",i.getAttribute(F))}function Z(t){var i;let s=D(),a=L(),v=a.findIndex(E=>E===s),h=a[v+t];(i=m.current)!=null&&i.loop&&(h=v+t<0?a[a.length-1]:v+t===a.length?a[0]:a[v+t]),h&&k.setState("value",h.getAttribute(F))}function ce(t){let i=D(),s=i?.closest(q),a;for(;s&&!a;)s=t>0?_e(s,q):Je(s,q),a=s?.querySelector(pe);a?k.setState("value",a.getAttribute(F)):Z(t)}let de=()=>Q(L().length-1),se=t=>{t.preventDefault(),t.metaKey?de():t.altKey?ce(1):Z(1)},fe=t=>{t.preventDefault(),t.metaKey?Q(0):t.altKey?ce(-1):Z(-1)};return l.createElement(R.div,{ref:n,tabIndex:-1,...B,"cmdk-root":"",onKeyDown:t=>{var i;(i=B.onKeyDown)==null||i.call(B,t);let s=t.nativeEvent.isComposing||t.keyCode===229;if(!(t.defaultPrevented||s))switch(t.key){case"n":case"j":{A&&t.ctrlKey&&se(t);break}case"ArrowDown":{se(t);break}case"p":case"k":{A&&t.ctrlKey&&fe(t);break}case"ArrowUp":{fe(t);break}case"Home":{t.preventDefault(),Q(0);break}case"End":{t.preventDefault(),de();break}case"Enter":{t.preventDefault();let a=D();if(a){let v=new Event(le);a.dispatchEvent(v)}}}}},l.createElement("label",{"cmdk-label":"",htmlFor:_.inputId,id:_.labelId,style:Qe},b),U(e,t=>l.createElement(xe.Provider,{value:k},l.createElement(be.Provider,{value:_},t))))}),ze=l.forwardRef((e,n)=>{var r,f;let u=N(),c=l.useRef(null),d=l.useContext(we),m=z(),b=ke(e),o=(f=(r=b.current)==null?void 0:r.forceMount)!=null?f:d?.forceMount;j(()=>{if(!o)return m.item(u,d?.id)},[o]);let p=Ee(u,c,[e.value,e.children,c],e.keywords),g=ae(),I=C(x=>x.value&&x.value===p.current),y=C(x=>o||m.filter()===!1?!0:x.search?x.filtered.items.get(u)>0:!0);l.useEffect(()=>{let x=c.current;if(!(!x||e.disabled))return x.addEventListener(le,S),()=>x.removeEventListener(le,S)},[y,e.onSelect,e.disabled]);function S(){var x,k;H(),(k=(x=b.current).onSelect)==null||k.call(x,p.current)}function H(){g.setState("value",p.current,!0)}if(!y)return null;let{disabled:A,value:B,onSelect:T,forceMount:ue,keywords:W,...M}=e;return l.createElement(R.div,{ref:P(c,n),...M,id:u,"cmdk-item":"",role:"option","aria-disabled":!!A,"aria-selected":!!I,"data-disabled":!!A,"data-selected":!!I,onPointerMove:A||m.getDisablePointerSelection()?void 0:H,onClick:A?void 0:S},e.children)}),Oe=l.forwardRef((e,n)=>{let{heading:r,children:f,forceMount:u,...c}=e,d=N(),m=l.useRef(null),b=l.useRef(null),o=N(),p=z(),g=C(y=>u||p.filter()===!1?!0:y.search?y.filtered.groups.has(d):!0);j(()=>p.group(d),[]),Ee(d,m,[e.value,e.heading,b]);let I=l.useMemo(()=>({id:d,forceMount:u}),[u]);return l.createElement(R.div,{ref:P(m,n),...c,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},r&&l.createElement("div",{ref:b,"cmdk-group-heading":"","aria-hidden":!0,id:o},r),U(e,y=>l.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?o:void 0},l.createElement(we.Provider,{value:I},y))))}),Be=l.forwardRef((e,n)=>{let{alwaysRender:r,...f}=e,u=l.useRef(null),c=C(d=>!d.search);return!r&&!c?null:l.createElement(R.div,{ref:P(u,n),...f,"cmdk-separator":"",role:"separator"})}),Ge=l.forwardRef((e,n)=>{let{onValueChange:r,...f}=e,u=e.value!=null,c=ae(),d=C(o=>o.search),m=C(o=>o.selectedItemId),b=z();return l.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),l.createElement(R.input,{ref:n,...f,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":b.listId,"aria-labelledby":b.labelId,"aria-activedescendant":m,id:b.inputId,type:"text",value:u?e.value:d,onChange:o=>{u||c.setState("search",o.target.value),r?.(o.target.value)}})}),Ue=l.forwardRef((e,n)=>{let{children:r,label:f="Suggestions",...u}=e,c=l.useRef(null),d=l.useRef(null),m=C(o=>o.selectedItemId),b=z();return l.useEffect(()=>{if(d.current&&c.current){let o=d.current,p=c.current,g,I=new ResizeObserver(()=>{g=requestAnimationFrame(()=>{let y=o.offsetHeight;p.style.setProperty("--cmdk-list-height",y.toFixed(1)+"px")})});return I.observe(o),()=>{cancelAnimationFrame(g),I.unobserve(o)}}},[]),l.createElement(R.div,{ref:P(c,n),...u,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":m,"aria-label":f,id:b.listId},U(e,o=>l.createElement("div",{ref:P(d,b.listInnerRef),"cmdk-list-sizer":""},o)))}),He=l.forwardRef((e,n)=>{let{open:r,onOpenChange:f,overlayClassName:u,contentClassName:c,container:d,...m}=e;return l.createElement(Ie,{open:r,onOpenChange:f},l.createElement(Se,{container:d},l.createElement(Ce,{"cmdk-overlay":"",className:u}),l.createElement(Re,{"aria-label":e.label,"cmdk-dialog":"",className:c},l.createElement(ye,{ref:n,...m}))))}),Te=l.forwardRef((e,n)=>C(r=>r.filtered.count===0)?l.createElement(R.div,{ref:n,...e,"cmdk-empty":"",role:"presentation"}):null),We=l.forwardRef((e,n)=>{let{progress:r,children:f,label:u="Loading...",...c}=e;return l.createElement(R.div,{ref:n,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":u},U(e,d=>l.createElement("div",{"aria-hidden":!0},d)))}),O=Object.assign(ye,{List:Ue,Item:ze,Input:Ge,Group:Oe,Separator:Be,Dialog:He,Empty:Te,Loading:We});function _e(e,n){let r=e.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function Je(e,n){let r=e.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function ke(e){let n=l.useRef(e);return j(()=>{n.current=e}),n}var j=typeof window>"u"?l.useEffect:l.useLayoutEffect;function K(e){let n=l.useRef();return n.current===void 0&&(n.current=e()),n}function C(e){let n=ae(),r=()=>e(n.snapshot());return l.useSyncExternalStore(n.subscribe,r,r)}function Ee(e,n,r,f=[]){let u=l.useRef(),c=z();return j(()=>{var d;let m=(()=>{var o;for(let p of r){if(typeof p=="string")return p.trim();if(typeof p=="object"&&"current"in p)return p.current?(o=p.current.textContent)==null?void 0:o.trim():u.current}})(),b=f.map(o=>o.trim());c.value(e,m,b),(d=n.current)==null||d.setAttribute(F,m),u.current=m}),u}var Xe=()=>{let[e,n]=l.useState(),r=K(()=>new Map);return j(()=>{r.current.forEach(f=>f()),r.current=new Map},[e]),(f,u)=>{r.current.set(f,u),n({})}};function Ye(e){let n=e.type;return typeof n=="function"?n(e.props):"render"in n?n.render(e.props):e}function U({asChild:e,children:n},r){return e&&l.isValidElement(n)?l.cloneElement(Ye(n),{ref:n.ref},r(n.props.children)):r(n)}var Qe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function tt({className:e,...n}){return $.jsx(O,{"data-slot":"command",className:V("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...n})}function rt({className:e,...n}){return $.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[$.jsx(Ae,{className:"size-4 shrink-0 opacity-50"}),$.jsx(O.Input,{"data-slot":"command-input",className:V("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...n})]})}function nt({className:e,...n}){return $.jsx(O.List,{"data-slot":"command-list",className:V("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...n})}function lt({className:e,...n}){return $.jsx(O.Group,{"data-slot":"command-group",className:V("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...n})}function at({className:e,...n}){return $.jsx(O.Item,{"data-slot":"command-item",className:V("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}export{tt as C,rt as a,nt as b,lt as c,at as d};
